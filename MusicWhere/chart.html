<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>MusicWhere</title>
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
  <meta name="viewport"
    content="width=device-width, maximum-scale=1.0, maximum-scale=1.0, initial-scale=1.0, user-scalable=no">
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="css/style.css" rel="stylesheet">
  <!-- CSS only -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
  <!-- integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.logwork.com/widget/digital.js"></script>
  <script src="https://cdn.logwork.com/widget/text.js"></script>
      <!-- line chart -->
      <script src="@@path/vendor/chartist/dist/chartist.min.js"></script>
      <script src="@@path/vendor/chartist-plugin-tooltips/dist/chartist-plugin-tooltip.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</head>

<body>
  <div id="timeLive">
    <a href="https://logwork.com/current-time-in-hanoi-vietnam-ha-noi" id="nameTime" class="digital-clock"
      data-style="flip" data-size="250" data-timezone="Asia/Phnom_Penh" data-language="vi">Current time in Hanoi,
      Vietnam</a>
      <button type="button" class="btn btn-danger" onclick="topFunction()">Top</button>
    <!-- <a href="https://logwork.com/current-time-in-hanoi-vietnam-ha-noi" class="clock-widget-text" data-width="240" data-timezone="Asia/Phnom_Penh" data-language="vi">Hanoi, Vietnam</a> -->
  </div>
  <!-- <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button> -->
  <div class="header fixed-top">
    <div class="container">
      <div class="row">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="\"><img style="max-width: 40px;opacity: inherit"
                src="img/icontest.jpg">MusicWheress </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
              aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <a class="nav-link" href="/hotmusic.html">HOT MUSIC</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/GENRES.html">GENRES</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">MV</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/chart.html">CHART</a>
                </li>
              </ul>
              <form class="d-flex">
                <input class="form-control me-2" type="search" placeholder="Tìm kiếm" aria-label="Search">
                <button class="btn btn-outline-light" type="submit"><i class="fa fa-search"></i></button>
              </form>
            </div>
          </div>
        </nav>
      </div>

    </div>

  </div>

  </div>


  <div class="wrap-content" style="padding-top: 50px">
    <div class="container">
      <hr>
      <div style="text-align: right;">
        <span> CounterVisitor: </span>
        <span id="CounterVisitor"> </span>
      </div>
      <div class="row">
        <!-- <div class="col-lg-8 col-md-8 col-sm-12">
          <canvas id="myChart"></canvas>
        </div> -->
        <div class="col-lg-8 col-md-8 col-sm-12">
          <canvas id="myChart"></canvas>
          <div class="mdl-1 mdl-songs">

            <div class="row">

              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="contentNew1">
                <div class="title">
                  <span href="javascript:void(0);" class="txt"> SAME SINGER</span>
                </div>
                <!-- Auto Genegate Content -->
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="contentNew2">
                <div class="title">
                  <span href="javascript:void(0);" class="txt">THE SAME KIND</span>
                </div>
                <!-- Auto Genegate Content -->
              </div>
            </div>
          </div>
          <div class="mdl-1 mdl-songs">
            <div class="title">
              <a href="/bai-hat-co-the-ban-thich" class="txt">NEW RELEASES</a>
              <a href="/bai-hat-co-the-ban-thich?listen=true" class="bg-color-01 listen-all listen-all2">
                <i class="fa icon-play2"></i>
              </a>
              <!--<a class="pull-right view-all" href="/bai-hat-co-the-ban-thich"><span class="txt-3">XEM THÊM </span> <i class="fa fa-angle-double-right"></i> </a>-->
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="contentLike1">
                <!-- Auto Genegate -->
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12" id="contentLike2">
                <!-- Auto Genegate -->
              </div>
            </div>


          </div>
        </div>
      <div class="col-lg-4 col-md-4 col-sm-12">
        <div class="mdl-1 mdl-billboard">
          <div class="title ellipsis">
            <a href="/bang-xep-hang" class="txt">CHARTS</a>
          </div>

          <!-- <ul class="nav nav-pills" role="tablist">
                            <li class="active"><a href="#viet-nam" role="tab" data-toggle="tab">Việt Nam</a></li>
                            <li class=""><a href="#us-uk" role="tab" data-toggle="tab">US/UK</a></li>
                            <li class=""><a href="#sang-tao" role="tab" data-toggle="tab">Sáng tạo</a></li>
                        </ul> -->
          <div class="tab nav-pills">
            <button class="tablinks btn active" onclick="openAlbumHot(event, 'tap1')">Việt Nam</button>
            <button class="tablinks btn" onclick="openAlbumHot(event, 'tap2')">US/UK</button>
            <button class="tablinks btn" onclick="openAlbumHot(event, 'tap3')">K-POP</button>
          </div>

          <div id="tap1" class="tabcontent" style="display: block;">
            <!-- Auto Genegate -->
          </div>

          <div id="tap2" class="tabcontent">
            <!-- Auto Genegate -->
          </div>

          <div id="tap3" class="tabcontent">
            <!-- Auto Genegate -->
          </div>
        </div>
        <div class="mdl-1 mdl-songs" id="whatListen">
          <div class="title">
            <span href="javascript:void(0);" class="txt"> TOP ARTISTS</span>
          </div>
          <!-- Auto Genegate -->
        </div>
        <div class="mdl-1 mdl-billboard">
          <div class="title ellipsis">
            <a href="/bang-xep-hang" class="txt">TOP SEARCHED SONGS</a>
          </div>

          <!-- <ul class="nav nav-pills" role="tablist">
                            <li class="active"><a href="#viet-nam" role="tab" data-toggle="tab">Việt Nam</a></li>
                            <li class=""><a href="#us-uk" role="tab" data-toggle="tab">US/UK</a></li>
                            <li class=""><a href="#sang-tao" role="tab" data-toggle="tab">Sáng tạo</a></li>
                        </ul> -->
          <div class="tab nav-pills">
            <button class="tablinkss btn active" onclick="openAlbumDownload(event, 'tap4')">WEEK</button>
            <button class="tablinkss btn" onclick="openAlbumDownload(event, 'tap5')">MONTH</button>
          </div>

          <div id="tap4" class="tabcontents" style="display: block;">
            <!-- Auto Genegate -->
          </div>

          <div id="tap5" class="tabcontents">
            <!-- Auto Genegate -->
          </div>

        </div>
      </div>

    </div>
    <hr>
    <!-- <div>
        <span> Lượt truy cập: </span>
        <span id="CounterVisitor"> </span>
      </div> -->
  </div>
  <div class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-12">

          <p class="link">
            <a href="/">Home</a>
            <a href="/huong-dan/gioi-thieu">About us</a>
            <a href="/huong-dan/dieu-khoan-su-dung">Terms of use</a>
            <a href="javascript:void(0);" class="user">Feedback</a>
            <a href="/huong-dan/cau-hoi-thuong-gap">Contact us </a>
          </p>
          <p class="text-copyright">
            <span class="text-copyright">Copyright © MusicWhere.</span>
            <span>Số 8, Tôn Thất Thuyết, Mỹ Đình, Từ Liêm, HN</span>
          </p>
          <p><span class="con-title">Email us</span>
            <span><a href="#">musicwhere@gmail.com</a><a href="#">fpt-aptech@gmail.com</a></span>
          </p>
          <div class="third">
            <h3 class="ms-color">Download Our App</h3>
            <p>Go Mobile with our app.
              Listen to your favourite song at just one click. Download Now !
            </p>
            <a href="#"><img src="img/google_play.jpg" alt=""></a>
            <a href="#"><img src="img/app_store.jpg" alt=""></a>
            <a href="#"><img src="img/windows.jpg" alt=""></a>
          </div>
        </div>
      </div>
    </div>
  </div>

</body>



<script>




  let d = new Date();
  let month = d.getMonth() + 1;
  let day = d.getDate();
  let output = (day < 10 ? '0' : '') + day + '/' +
    (month < 10 ? '0' : '') + month + '/' +
    d.getFullYear();
  console.log("in scroll display = block")
  console.log(output)
  let outDate = "Hà Nội, " + output
  $('#nameTime').text(outDate);

  $(document).ready(function () {
    $(".item").click(function () {
      window.location.href = './detail.html';
    });
  });

  let n = localStorage.getItem('on_load_counter');

  if (n === null) {
    n = 0;
  }
  n++;

  localStorage.setItem("on_load_counter", n);

  nums = n.toString().split('').map(Number);
  document.getElementById('CounterVisitor').innerHTML = nums.join('');

  function openAlbumHot(evt, albumName) {
    let i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(albumName).style.display = "block";
    evt.currentTarget.className += " active";
  }

  function openAlbumDownload(evt, albumName) {
    let i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontents");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinkss");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(albumName).style.display = "block";
    evt.currentTarget.className += " active";
  }

  // Get the button
  let mybutton = document.getElementById("timeLive");

  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function () { scrollFunction() };

  function scrollFunction() {

    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
      // mybutton.textContent =
    } else {
      console.log("in scroll display = none")
      mybutton.style.display = "none";
    }
  }

  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }

  // function refreshTime() {
  //     const timeDisplay = document.getElementById("timeLive");
  //     const dateString = new Date().toLocaleString();
  //     const formattedString = dateString.replace(", ", " - ");

  //     timeDisplay.textContent = formattedString + Intl.DateTimeFormat().resolvedOptions().timeZone;
  // }
  // setInterval(refreshTime, 1000);
  let countTab = 1;
  let countTab1 = 1;
  let countTab2 = 1;

  let searchParams = new URLSearchParams(window.location.search)
  let idItem = searchParams.get('id')
  let typeItem = searchParams.get('type')

  $(document).ready(function () {
    $.getJSON("data/data.json", function (data) {

      data.items.forEach(function (item) {
        if (item.id == idItem) {
          showDetailItem(item)
        }
        createTemplate(item);
      });
    }).fail(function () {
      console.log("An error has occurred.");
    });

  });

  let singer1;
  let singer2;
  let songName;

  function showDetailItem(items) {
    console.log(items);
    let lyricSong = items.lyrics;
    singer1 = items.singer[0].el1;
    singer2 = items.singer[0].el2;
    songName = items.songName;

    let audioTag = '<audio src="' + items.linkAudio + '" controls></audio>'
    let videoTag = '<video width="400" controls><source src="' + items.linkVideo + '" type="video/mp4">Your browser does not support HTML video.</video>'
    if (typeItem == "audio") {
      $('#showVideoAudio').append(audioTag);
    } else if (typeItem == "video") {
      $('#showVideoAudio').append(videoTag);
    }
    $('#lyricBody').append(lyricSong);
    $('#titleSong').text(items.songName);
    $('.name_lyric').text('Lời bài hát: ' + items.songName);

    $('#titleSinger').text(singer1 + ',' + singer2);
    $('.name_singer').text('Ca sĩ: ' + singer1 + ',' + singer2);

  }
  function createTemplate(item) {
    item.locationTag.forEach(function (element) {
      let fieldHTML = null;
      switch (element.locationTagName) {
        case "contentLike1":
        case "contentLike2":
        case "contentDownload":
        case "contentNew1":
        case "contentNew2":
        case "whatListen":
        case "tap4":
        case "tap5":
          fieldHTML = '<div class="media"><div class="media-left"><a href="' + element.linkDetail + '"><img class="media-object" src="' + element.linkImgDetail + '" onerror="this.src=\'img/4x4.png\';" width="48" alt="..."></a></div><div class="media-body" style="width: 285px;"><a href="' + element.linkDetail + '" class="song-name ellipsis" title="' + item.songName + '" style="max-width: 244px;"> ' + item.songName + ' </a><p class="singer-name ellipsis" title="' + item.singer[0].el1 + ',' + item.singer[0].el2 + '" style="max-width: 244px;">' + item.singer[0].el1 + ',' + item.singer[0].el2 + '</p></div></div>';
          break;
        case "contentHot":
          fieldHTML = '<p><a href="' + element.linkDetail + '"><img src="' + element.linkImgDetail + '" class="image-topic" alt="" onerror="this.src=\'/images/onbox_02.jpg\';" title="' + element.linkDetail + '"></a></p>';
          break;
        case "tap1":
          fieldHTML = '<div class="media"><div class="media-left"><a href="' + element.linkDetail + '"><img class="media-object" src="' + element.linkImgDetail + '" onerror="this.src=\'img/4x4.png\';" width="48" alt="..."></a></div><div class="media-body" ><a href="' + element.linkDetail + '" class="song-name ellipsis" title="' + item.songName + '" style="max-width: 187px;"> ' + item.songName + ' </a><p class="singer-name ellipsis" title="' + item.singer[0].el1 + ',' + item.singer[0].el2 + '" style="max-width: 187px;">' + item.singer[0].el1 + ',' + item.singer[0].el2 + '</p></div>';
          fieldHTML += genegateHotList(countTab);
          countTab++;
          break;
        case "tap2":
          fieldHTML = '<div class="media"><div class="media-left"><a href="' + element.linkDetail + '"><img class="media-object" src="' + element.linkImgDetail + '" onerror="this.src=\'img/4x4.png\';" width="48" alt="..."></a></div><div class="media-body" ><a href="' + element.linkDetail + '" class="song-name ellipsis" title="' + item.songName + '" style="max-width: 187px;"> ' + item.songName + ' </a><p class="singer-name ellipsis" title="' + item.singer[0].el1 + ',' + item.singer[0].el2 + '" style="max-width: 187px;">' + item.singer[0].el1 + ',' + item.singer[0].el2 + '</p></div>';
          fieldHTML += genegateHotList(countTab1);
          countTab1++;
          break;
        case "tap3":
          fieldHTML = '<div class="media"><div class="media-left"><a href="' + element.linkDetail + '"><img class="media-object" src="' + element.linkImgDetail + '" onerror="this.src=\'img/4x4.png\';" width="48" alt="..."></a></div><div class="media-body" ><a href="' + element.linkDetail + '" class="song-name ellipsis" title="' + item.songName + '" style="max-width: 187px;"> ' + item.songName + ' </a><p class="singer-name ellipsis" title="' + item.singer[0].el1 + ',' + item.singer[0].el2 + '" style="max-width: 187px;">' + item.singer[0].el1 + ',' + item.singer[0].el2 + '</p></div>';
          fieldHTML += genegateHotList(countTab2);
          countTab2++;
          break;
      }
      let idName = "#" + element.locationTagName
      $(idName).append(fieldHTML);
    });

  }
  function genegateHotList(item) {
    let fieldHTML = "";
    if (item == 1) {
      fieldHTML += '<div class="media-right text-danger">'
    } else if (item == 2) {
      fieldHTML += '<div class="media-right text-success">'
    } else if (item == 3) {
      fieldHTML += '<div class="media-right text-primary">'
    } else {
      fieldHTML += '<div class="media-right">'
    }
    fieldHTML += '' + item > 9 ? "" + item : "0" + item; +'</div></div>';
    return fieldHTML;
  }

  $(document).ready(function () {
    $(".logo").click(function () {
      window.location.href = './index.html';
    });

  });

  $(document).ready(function () {
    $("#btnShowLyric").click(function () {
      let txtData;
      console.log($("#btnShowLyric").text());
      if ($("#btnShowLyric").text() == "Xem Lời Bài Hát") {
        txtData = "Ẩn Lời Bài Hát";
      } else {
        txtData = "Xem Lời Bài Hát";
      }
      $("#btnShowLyric").text(txtData);

    });
  });

  $("#basic-form").submit(function (e) {
    $('#commentModal').modal('show');
    sendComment();
    return false;
  });



  function sendComment() {
    let emailFrom = $('#email').val();
    let emailTo = "binhluanmusicwhere.com.vn"
    let detailComment = $('#exampleFormControlTextarea1').val();
    $('#commentFrom').text(emailFrom);
    $('#commentTo').text(emailTo);
    $('#commentDetail').text(detailComment);
    $('#commentSong').text(songName);
    $('#commentSinger').text(singer1 + ', ' + singer2);
  }
  function resetComment() {
    $('#email').val("");
    $('#exampleFormControlTextarea1').val("");
  }


  const labels = [
        '00:00',
        '02:00',
        '04:00',
        '06:00',
        '08:00',
        '10:00',
        '12:00',
        '14:00',
        '16:00',
        '18:00',
        '20:00',
        '22:00',
    ];

    const data = {
        labels: labels,
        datasets: [{
            label: 'Music Chart',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [0, 10, 5, 2, 20, 30, 45,14,25,10,11,14],
        },
        {
            label: 'Gà VL',
            backgroundColor: 'rgb(51, 190, 255)',
            borderColor: 'rgb(51, 190, 255)',
            data: [10, 20, 25, 10, 25, 35, 40,21,25,40,31,52],
        }]
    };

    const config = {
        type: 'line',
        data: data,
        options: {}
    };

  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );


  
</script>


</html>